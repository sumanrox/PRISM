<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  
  <!-- SEO Meta Tags -->
  <title>Vulnerability Report Builder - Free Security Report Generator Tool</title>
  <meta name="description" content="Create professional vulnerability reports with CVSS v3.1 scoring, PDF export, and security templates. Free online tool for penetration testers, bug bounty hunters, and security researchers. No installation required.">
  <meta name="keywords" content="vulnerability report, security report generator, CVSS calculator, penetration testing, bug bounty, security assessment, vulnerability documentation, ethical hacking, security audit tool">
  <meta name="author" content="Vulnerability Report Builder">
  <meta name="robots" content="index, follow">
  
  <!-- Open Graph Meta Tags -->
  <meta property="og:title" content="Vulnerability Report Builder - Free Security Report Generator">
  <meta property="og:description" content="Create professional vulnerability reports with CVSS scoring, templates, and PDF export. Perfect for penetration testers and bug bounty hunters.">
  <meta property="og:type" content="website">
  <meta property="og:url" content="https://yourwebsite.com">
  
  <!-- Twitter Card Meta Tags -->
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:title" content="Vulnerability Report Builder - Free Security Tool">
  <meta name="twitter:description" content="Professional vulnerability reporting tool with CVSS v3.1, templates, and PDF export.">
  
  <!-- Canonical URL -->
  <link rel="canonical" href="https://yourwebsite.com">
  
  <!-- Theme Color -->
  <meta name="theme-color" content="#0f62fe">

  <!-- Google Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Roboto:wght@300;400;500;700&family=Open+Sans:wght@300;400;600;700&family=Lato:wght@300;400;700&family=Montserrat:wght@300;400;600;700&family=Poppins:wght@300;400;500;600;700&family=Source+Sans+3:wght@300;400;600;700&family=Work+Sans:wght@300;400;500;600;700&family=Nunito:wght@300;400;600;700&family=PT+Sans:wght@400;700&family=Merriweather:wght@300;400;700&family=Lora:wght@400;500;600;700&family=Crimson+Text:wght@400;600;700&family=Roboto+Slab:wght@300;400;500;700&family=Playfair+Display:wght@400;500;600;700&display=swap" rel="stylesheet">

  <!-- Tailwind CDN (for convenience) -->
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    tailwind.config = {
      theme: {
        extend: {}
      }
    }
  </script>

  <!-- IBM Carbon CSS (CSS only) -->
  <link rel="stylesheet" href="https://unpkg.com/carbon-components/css/carbon-components.min.css">
  <!-- Bootstrap Icons -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css">

  <!-- App styles - Modular CSS -->
  <link rel="stylesheet" href="modules/css/base.css">
  <link rel="stylesheet" href="modules/css/layout.css">
  <link rel="stylesheet" href="modules/css/components.css">
  <link rel="stylesheet" href="modules/css/dock.css">
  <link rel="stylesheet" href="modules/css/modals.css">

  <!-- Structured Data (JSON-LD) -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "WebApplication",
    "name": "Vulnerability Report Builder",
    "description": "Free online tool for creating professional security vulnerability reports with CVSS scoring and PDF export",
    "applicationCategory": "SecurityApplication",
    "operatingSystem": "Any",
    "offers": {
      "@type": "Offer",
      "price": "0",
      "priceCurrency": "USD"
    },
    "featureList": [
      "CVSS v3.1 Calculator",
      "PDF Report Generation",
      "Security Templates",
      "Screenshot Management",
      "Markdown Export"
    ]
  }
  </script>
  
  <!-- Libraries (marked, DOMPurify, html2pdf, html2canvas) -->
  <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/dompurify@2.4.0/dist/purify.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.9.3/html2pdf.bundle.min.js"></script>
  
  <!-- Component Loader (must load before app.js) -->
  <script src="modules/js/component-loader.js"></script>
</head>
<body class="font-sans">
  <!-- Header will be loaded here -->
  <div id="app-header"></div>

  <!-- Floating Dock will be loaded here -->
  <div id="app-dock"></div>

  <main class="max-w-5xl mx-auto px-4 pb-12" role="main">
    <div id="mainGrid" class="grid grid-cols-1 gap-6">
      <!-- Report Builder Form -->
      <section class="bg-white border-2 border-blue-600 p-4 shadow-sm" id="formColumn" aria-label="Vulnerability report form">
        <!-- Multi-Step Progress Indicator -->
        <div class="mb-4 pb-3 border-b">
          <div class="flex items-center justify-between mb-2">
            <div class="text-sm font-medium">Progress</div>
            <div id="currentStepText" class="text-sm font-medium">Step 1 of 4</div>
          </div>
          <div class="flex gap-1">
            <div id="step1Progress" class="flex-1 h-2 bg-blue-600 transition-all duration-300" style="border: 1px solid var(--border-color);"></div>
            <div id="step2Progress" class="flex-1 h-2 bg-gray-200 transition-all duration-300" style="border: 1px solid var(--border-color);"></div>
            <div id="step3Progress" class="flex-1 h-2 bg-gray-200 transition-all duration-300" style="border: 1px solid var(--border-color);"></div>
            <div id="step4Progress" class="flex-1 h-2 bg-gray-200 transition-all duration-300" style="border: 1px solid var(--border-color);"></div>
          </div>
          <div id="completenessDetails" class="text-xs text-gray-500 mt-2"></div>
        </div>
        
        <form id="reportForm" class="space-y-4">
          <!-- Multistep form steps will be loaded here -->
          <div id="multistepForm"></div>

          <div id="autosaveIndicator" class="text-xs text-gray-600 mt-1 hidden">Autosaved just now</div>
        </form>
      </section>
    </div>
  </main>

  <!-- Modals will be loaded here -->
  <div id="app-modals"></div>

  <!-- App Scripts -->
  <script src="modules/js/storage.js"></script>
  <script src="modules/js/sample-data.js"></script>
  <script src="modules/js/templates.js"></script>
  <script src="modules/js/pdf.js"></script>
  
  <!-- Initialize and load components -->
  <script>
    // Load all HTML components before initializing the app
    async function loadComponents() {
      try {
        // Load all components in parallel
        await ComponentLoader.loadAll([
          { path: 'modules/html/header.html', target: '#app-header' },
          { path: 'modules/html/dock.html', target: '#app-dock' },
          { path: 'modules/html/form-step1.html', target: '#multistepForm' },
          { path: 'modules/html/form-step2.html', target: '#multistepForm' },
          { path: 'modules/html/form-step3.html', target: '#multistepForm' },
          { path: 'modules/html/form-step4.html', target: '#multistepForm' },
          { path: 'modules/html/modal-settings.html', target: '#app-modals' },
          { path: 'modules/html/modal-drafts.html', target: '#app-modals' },
          { path: 'modules/html/modal-custom.html', target: '#app-modals' },
          { path: 'modules/html/modal-templates.html', target: '#app-modals' },
          { path: 'modules/html/modal-docs.html', target: '#app-modals' }
        ]);
        
        console.log('âœ“ All components loaded successfully');
        
        // Now load and initialize the main app
        const script = document.createElement('script');
        script.src = 'modules/js/app.js';
        document.body.appendChild(script);
        
      } catch (error) {
        console.error('Failed to load components:', error);
        document.body.innerHTML = `
          <div class="max-w-2xl mx-auto mt-12 p-6 bg-red-50 border border-red-300 rounded-lg">
            <h2 class="text-xl font-bold text-red-800 mb-2">
              <i class="bi bi-exclamation-triangle"></i> Component Loading Error
            </h2>
            <p class="text-red-700 mb-3">Failed to load application components. Please ensure you're running this application through a web server.</p>
            <details class="text-sm text-red-600">
              <summary class="cursor-pointer font-medium mb-2">Technical Details</summary>
              <pre class="bg-white p-2 rounded border border-red-200 overflow-auto">${error.message}</pre>
            </details>
            <div class="mt-4 text-sm text-red-700">
              <p class="font-medium mb-1">How to fix:</p>
              <ul class="list-disc list-inside space-y-1">
                <li>Use a local development server (e.g., <code class="bg-white px-1 rounded">python -m http.server</code>)</li>
                <li>Or use VS Code Live Server extension</li>
                <li>Or deploy to a web hosting service</li>
              </ul>
            </div>
          </div>
        `;
      }
    }
    
    // Load components when DOM is ready
    if (document.readyState === 'loading') {
      document.addEventListener('DOMContentLoaded', loadComponents);
    } else {
      loadComponents();
    }
  </script>
</body>
</html>
